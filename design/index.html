<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="styles.css"/>
    <script src="custom-question.js"></script>
</head>
<body>
  <div>
    <h1 id="title1">Gauge Settings</h1>
    <div role="form" aria-labelledby="title1">
      <fieldset>
        <p><label for="gInput1">Hex Color Code: </label><span>#</span><input id="gInput1" type="text" minlength="6" maxlength="6" size="6" aria-required="true" required></p>
        <p><label for="gInput2">Increments: </label><input id="gInput2" type="number" min="2" max="360" aria-required="true" required></p>
      </fieldset>
    </div>
  </div>

  <script>
  	var i1 = document.getElementById('gInput1');
    var i2 = document.getElementById('gInput2');

  	function setInputValue(settings) {
  		i1.value = settings.color;
      i2.value = settings.increments;
    }

  	function saveChanges() {
  		var settings = {
        color: i1.value,
        increments: i2.value
      };

  		var hasError = false;
      if(i1.value === '') {
        hasError = true;
      }
      if(i2.value === '' || i2.value < 1 || i2.value > 50) {
        hasError = true;
      }

      customQuestion.saveChanges(settings, hasError);
  	}

  	customQuestion.onSettingsReceived = setInputValue;
  	i1.addEventListener('input', saveChanges);
    i2.addEventListener('input', saveChanges);
  </script>
</body>
</html>
